{
  "hash": "ea5751fe7ae5c1ef1eb95bd56c4f5b9a",
  "result": {
    "markdown": "---\ntitle: \"Set up NIGHT MODE for your RStudio\"\ndescription: \"You will not be flashed when coding in the middle night with this NIGHT MODE.\"\nauthor:\n  - name: Kaixing Liu\ndate: 08-06-2024\ncategories: [RStudio] # self-defined categories\nimage: Dark-Mode-Hero.jpg\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\nformat:\n  html:\n    code-copy: true\n---\n\n\nAs is known that there are multiple themes for RStudio, I have used the light theme for a long time since I code most of the time during the day. Yet, yesterday at 1am when I switched between Github(with Night Mode) and RStudio, my eyes were crying. Below is what I figured out to make RStudio alternate between light and dark themes according to the time.\n\nThe basic idea is preparing a list of themes to be used and setting options and environmental variables for your RStudio.\n\n### Step 1\n\nInstall [`rsthemes`](https://github.com/gadenbuie/rsthemes) package and a dozen of themes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"devtools\")\ndevtools::install_github(\"gadenbuie/rsthemes\")\n# or\ninstall.packages(\n  \"rsthemes\",\n  repos = c(gadenbuie = 'https://gadenbuie.r-universe.dev', getOption(\"repos\"))\n) # but this package is not updated to the newest version of R so stronly recommends installment from github\n```\n:::\n\n\nThen, install themes for use.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrsthemes::install_rsthemes()\n# list installed themes\nrsthemes::list_rsthemes()\n# try all themes\nrsthemes::try_rsthemes()\n```\n:::\n\n\n### Step 2\n\nEdit your `.Rprofile` via this `usethis::edit_r_profile()` within a R session in RStudio. Then, your `.Rprofile` will pop up in source panel of RStudio. Copy this (below) and save. You can customize your preferred themes and the time to switch to night mode and back.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (interactive() && requireNamespace(\"rsthemes\", quietly = TRUE)) {\n  # Set preferred themes if not handled elsewhere..\n  rsthemes::set_theme_light(\"One Light {rsthemes}\")  # light theme\n  rsthemes::set_theme_dark(\"One Dark {rsthemes}\") # dark theme\n\n  # Whenever the R session restarts inside RStudio...\n  setHook(\"rstudio.sessionInit\", function(isNewSession) {\n    # Automatically choose the correct theme based on time of day\n    rsthemes::use_theme_auto(dark_start = \"18:00\", dark_end = \"6:00\")\n  }, action = \"append\")\n}\n```\n:::\n\n\nRestart R and done. The awkward thing is that the switch works only when you restart your R session but anyway easier than switching themes manually.\n\nYou can refer to these for details, [change RStudio theme based on time of day](https://forum.posit.co/t/change-rstudio-theme-based-on-time-of-day/115888) and [manage R with .Rprofile](https://support.posit.co/hc/en-us/articles/360047157094-Managing-R-with-Rprofile-Renviron-Rprofile-site-Renviron-site-rsession-conf-and-repos-conf).\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}